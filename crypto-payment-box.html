<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Crypto Payment - VLINKPAY</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="global.css">
  <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
  <style>
    .payment-selection-container {
      max-width: 1000px;
      margin: 40px auto;
    }

    .payment-options-list {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 24px;
    }

    @media (max-width: 992px) {
      .payment-options-list {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 576px) {
      .payment-options-list {
        grid-template-columns: 1fr;
      }
    }

    .payment-option-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      gap: 20px;
      padding: 40px 24px;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      border-radius: 24px;
      text-decoration: none;
      background: #fff;
      box-shadow: 0 4px 12px rgba(145, 158, 171, 0.08);
      border: 1px solid var(--grey-200);
    }

    .payment-option-item:hover {
      transform: translateY(-8px);
      box-shadow: 0 40px 80px -8px rgba(145, 158, 171, 0.24);
      border-color: var(--primary-main);
    }

    .option-icon-wrapper {
      width: 80px;
      height: 80px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      border-radius: 20px;
      background: rgba(0, 167, 111, 0.08);
      color: var(--primary-main);
    }

    .payment-option-item:nth-of-type(2) .option-icon-wrapper {
      background: rgba(255, 171, 0, 0.08);
      color: #FFAB00;
    }

    .payment-option-item:nth-of-type(3) .option-icon-wrapper {
      background: rgba(0, 119, 255, 0.08);
      color: #0077FF;
    }

    .option-content {
      flex: 1;
    }

    .option-title {
      font-weight: 700;
      font-size: 20px;
      color: var(--grey-900);
      margin-bottom: 8px;
    }

    .option-description {
      font-size: 14px;
      color: var(--grey-600);
      line-height: 1.6;
      max-width: 280px;
    }

    .option-arrow {
      display: none;
    }

    /* Modal Styling */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(22, 28, 36, 0.8);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      backdrop-filter: blur(6px);
    }

    .modal-content {
      background: #fff;
      width: 100%;
      max-width: 480px;
      border-radius: 24px;
      padding: 0;
      position: relative;
      box-shadow: 0 24px 48px -8px rgba(0, 0, 0, 0.2);
      overflow: hidden;
      animation: modalFadeIn 0.3s ease-out;
    }

    @keyframes modalFadeIn {
      from {
        opacity: 0;
        transform: scale(0.95);
      }

      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    .modal-header {
      padding: 24px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .modal-title {
      font-size: 18px;
      font-weight: 700;
      color: var(--grey-900);
    }

    .modal-body {
      padding: 0 24px 32px;
    }

    .close-btn {
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      cursor: pointer;
      color: var(--grey-500);
      transition: 0.2s;
    }

    .close-btn:hover {
      background: var(--grey-100);
      color: var(--grey-900);
    }

    /* Form Styling */
    .form-group {
      margin-bottom: 12px;
    }

    .form-label {
      display: block;
      font-size: 13px;
      font-weight: 600;
      color: var(--grey-600);
      margin-bottom: 8px;
    }

    .minimal-input,
    .minimal-select {
      width: 100%;
      height: 48px;
      padding: 0 14px;
      border: 1px solid var(--grey-300);
      border-radius: 12px;
      font-size: 14px;
      font-family: inherit;
      outline: none;
      transition: all 0.2s;
      background: #fff;
    }

    .minimal-input:focus,
    .minimal-select:focus {
      border-color: var(--grey-900);
    }

    .input-with-prefix {
      position: relative;
      display: flex;
      align-items: center;
    }

    .input-prefix {
      position: absolute;
      left: 14px;
      color: var(--grey-500);
      font-weight: 500;
    }

    .input-with-prefix .minimal-input {
      padding-left: 32px;
    }

    .btn-submit {
      width: 100%;
      height: 52px;
      background: var(--primary-main);
      color: #fff;
      border: none;
      border-radius: 12px;
      font-weight: 700;
      font-size: 15px;
      cursor: pointer;
      transition: 0.2s;
      box-shadow: 0 8px 16px 0 rgba(0, 167, 111, 0.24);
      margin-top: 10px;
    }

    .btn-submit:hover {
      background: var(--primary-dark);
      transform: translateY(-1px);
    }

    /* Result UI */
    .result-container {
      background: var(--grey-100);
      border-radius: 20px;
      padding: 24px;
      text-align: center;
      margin-top: 8px;
    }

    .qr-box {
      width: 180px;
      height: 180px;
      margin: 0 auto 20px;
      padding: 12px;
      background: #fff;
      border-radius: 16px;
      box-shadow: var(--shadow-z8);
    }

    .qr-box img {
      width: 100%;
      height: 100%;
    }

    .amount-display {
      margin-bottom: 16px;
    }

    .amount-usd {
      font-size: 28px;
      font-weight: 800;
      color: var(--grey-900);
      display: block;
    }

    .amount-crypto {
      font-size: 14px;
      font-weight: 600;
      color: var(--grey-600);
    }

    .address-wrapper {
      background: rgba(145, 158, 171, 0.08);
      padding: 12px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 20px;
      word-break: break-all;
    }

    .address-text {
      font-family: monospace;
      font-size: 12px;
      color: var(--grey-800);
      flex: 1;
      text-align: left;
    }

    .copy-btn {
      color: var(--primary-main);
      cursor: pointer;
      flex-shrink: 0;
      display: flex;
      align-items: center;
    }

    .timer-text {
      font-size: 12px;
      color: var(--grey-600);
      margin-bottom: 12px;
    }

    .timer-text span {
      color: #FF5630;
      font-weight: 700;
    }

    .refresh-link {
      color: var(--primary-main);
      font-weight: 600;
      text-decoration: none;
      margin-left: 4px;
      cursor: pointer;
    }

    .status-waiting {
      font-weight: 700;
      font-size: 16px;
      color: var(--grey-900);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .rotating {
      animation: rotate 2s linear infinite;
    }

    @keyframes rotate {
      from {
        transform: rotate(0deg);
      }

      to {
        transform: rotate(360deg);
      }
    }

    /* Note styling */
    .note-box {
      font-size: 11px;
      color: var(--grey-500);
      text-align: left;
      line-height: 1.6;
    }

    .note-box b {
      color: var(--grey-700);
    }

    .asset-option {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    /* Tabs styling */
    .tabs-header {
      display: flex;
      gap: 8px;
      padding: 4px;
      background: var(--grey-100);
      border-radius: 12px;
      margin-bottom: 24px;
    }

    .tab-item {
      flex: 1;
      padding: 10px 16px;
      text-align: center;
      font-size: 14px;
      font-weight: 600;
      color: var(--grey-600);
      cursor: pointer;
      border-radius: 10px;
      transition: all 0.2s;
    }

    .tab-item.active {
      background: #fff;
      color: var(--grey-900);
      box-shadow: 0 2px 8px rgba(145, 158, 171, 0.12);
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    /* Input with icon */
    .input-wrapper {
      position: relative;
      display: flex;
      align-items: center;
    }

    .input-icon {
      position: absolute;
      left: 14px;
      color: var(--grey-500);
      width: 20px;
    }

    .input-wrapper .minimal-input {
      padding-left: 44px;
      padding-right: 44px;
    }

    .input-suffix {
      position: absolute;
      right: 12px;
      color: var(--grey-500);
      cursor: pointer;
      display: flex;
      align-items: center;
      transition: 0.2s;
    }

    .input-suffix:hover {
      color: var(--primary-main);
    }

    /* Card Preview */
    .card-preview {
      display: flex;
      gap: 16px;
      padding: 16px;
      background: var(--grey-100);
      border-radius: 16px;
      margin-bottom: 16px;
      align-items: flex-start;
    }

    .card-info {
      flex: 1;
    }

    .info-row {
      display: flex;
      justify-content: space-between;
      margin-bottom: 8px;
    }

    .info-row:last-child {
      margin-bottom: 0;
    }

    .info-label {
      font-size: 13px;
      color: var(--grey-600);
    }

    .info-value {
      font-size: 13px;
      font-weight: 600;
      color: var(--grey-900);
    }

    .modal-input-icon {
      position: absolute;
      left: 14px;
      color: var(--grey-500);
      font-weight: 500;
    }

    .input-wrapper .modal-input-icon~.minimal-input {
      padding-left: 32px;
    }
  </style>
</head>

<body>
  <aside class="sidebar">
    <div class="sidebar-content">
      <div class="logo">
        <span style="font-weight: 800; font-size: 22px; color: #212B36; letter-spacing: -0.5px;">VLINKPAY</span>
      </div>

      <div class="user-card">
        <div class="avatar">
          <iconify-icon icon="solar:user-bold" width="24"></iconify-icon>
        </div>
        <div class="user-info">
          <div style="font-weight: 600; font-size: 14px; color: var(--grey-900);">Carlota Monteiro</div>
          <div style="font-size: 13px; color: var(--grey-600);">Admin</div>
        </div>
      </div>

      <div class="nav-section-title">OVERVIEW</div>

      <a href="https://p2pexchangeatmvlinkpay.tiiny.site" class="nav-item">
        <div class="nav-icon"><iconify-icon icon="solar:home-2-bold-duotone" width="24"></iconify-icon></div>
        <span>Homepage</span>
      </a>

      <a href="dashboard.html" class="nav-item">
        <div class="nav-icon"><iconify-icon icon="solar:widget-bold-duotone" width="24"></iconify-icon></div>
        <span>Dashboard</span>
      </a>

      <div class="nav-section-title">GIFT CARD CENTER</div>

      <a href="#" class="nav-item ">
        <div class="nav-icon"><iconify-icon icon="solar:folder-with-files-bold-duotone" width="26"></iconify-icon></div>
        <span>Gift & Voucher Management</span>
        <iconify-icon icon="eva:chevron-down-fill" style="margin-left: auto; width: 16px;"></iconify-icon>
      </a>

      <div class="submenu">
        <a href="my-purchase.html" class="sub-item "><span class="dot"></span>My Purchase</a>
        <a href="#" class="sub-item "><span class="dot"></span>Merchant Map</a>
        <a href="product-list.html" class="sub-item "><span class="dot"></span>Product Management</a>

        <a href="digital-gifts-management.html" class="sub-item "><span class="dot"></span>VlinkPay Store</a>
      </div>
      <a href="marketing-tools.html" class="nav-item">
        <div class="nav-icon"><iconify-icon icon="solar:chart-square-bold-duotone" width="24"></iconify-icon></div>
        <span>Marketing Tools</span>
      </a>
      <a href="#" class="nav-item parent-active">
        <div class="nav-icon"><iconify-icon icon="solar:dollar-minimalistic-bold-duotone" width="24"></iconify-icon>
        </div>
        <span>Payment Acceptance</span>
        <iconify-icon icon="eva:chevron-down-fill" style="margin-left: auto; width: 16px;"></iconify-icon>
      </a>
      <div class="submenu">
        <a href="gift-card-payment-box.html" class="sub-item "><span class="dot"></span>Pay with Gift Card</a>
        <a href="crypto-payment-box.html" class="sub-item active"><span class="dot"></span>Pay with Crypto</a>
      </div>

      <a href="#" class="nav-item ">
        <div class="nav-icon"><iconify-icon icon="solar:settings-bold-duotone" width="24"></iconify-icon></div>
        <span>Settings</span>
        <iconify-icon icon="eva:chevron-down-fill" style="margin-left: auto; width: 16px;"></iconify-icon>
      </a>
      <div class="submenu">
        <a href="merchant-payment-setup.html" class="sub-item "><span class="dot"></span>Merchant Payment Setup</a>
        <a href="benefits-setup.html" class="sub-item "><span class="dot"></span>Benefits Setup</a>
      </div>

      <a href="#" class="nav-item ">
        <div class="nav-icon"><iconify-icon icon="solar:chart-bold-duotone" width="24"></iconify-icon></div>
        <span>Report</span>
        <iconify-icon icon="eva:chevron-down-fill" style="margin-left: auto; width: 16px;"></iconify-icon>
      </a>
      <div class="submenu">
        <a href="sales-order-list.html" class="sub-item "><span class="dot"></span>Sales Orders</a>
        <a href="card-transaction-history-merchant.html" class="sub-item "><span class="dot"></span>Card Transaction
          History</a>
      </div>

      <a href="crypto-card-list.html" class="nav-item">
        <div class="nav-icon"><iconify-icon icon="solar:wallet-bold-duotone" width="24"></iconify-icon></div>
        <span>Crypto Card Management</span>
      </a>

      <div class="nav-section-title">APPS</div>

      <a href="#" class="nav-item">
        <div class="nav-icon"><iconify-icon icon="solar:letter-bold-duotone" width="24"></iconify-icon></div>
        <span>Notifications</span>
        <span class="badge-outlined">32+</span>
      </a>

      <a href="#" class="nav-item">
        <div class="nav-icon"><iconify-icon icon="solar:chat-round-dots-bold-duotone" width="24"></iconify-icon></div>
        <span>AI Assistant</span>
      </a>
    </div>
  </aside>

  <header class="top-header">
    <div class="header-info">Jan 14, 2026 10:05:53 AM (UTC)</div>
    <div class="header-icons">
      <div class="header-icon-btn">
        <iconify-icon icon="solar:settings-bold-duotone" width="24"></iconify-icon>
      </div>
      <div class="user-avatar-mini">
        <iconify-icon icon="solar:user-circle-bold" width="32"></iconify-icon>
      </div>
    </div>
  </header>

  <main class="main">
    <div class="page-header">
      <h1 class="page-title">Crypto Payment</h1>
      <div class="breadcrumbs">
        <span>Payment Acceptance</span>
        <span class="breadcrumbs-dot"></span>
        <span style="color: var(--grey-900); font-weight: 500;">Crypto Payment</span>
      </div>
    </div>

    <div class="payment-selection-container">
      <div class="payment-options-list">
        <!-- Option 1: Enter Amount -->
        <div class="payment-option-item" onclick="openModal('modal-enter-amount')">
          <div class="option-icon-wrapper">
            <iconify-icon icon="solar:file-download-bold-duotone" width="40"></iconify-icon>
          </div>
          <div class="option-content">
            <div class="option-title">Enter Amount</div>
            <div class="option-description">Merchant inputs the amount. QR is generated with the exact value for the
              customer to scan.</div>
          </div>
        </div>

        <!-- Option 2: Show Wallet -->
        <div class="payment-option-item" onclick="openModal('modal-show-wallet')">
          <div class="option-icon-wrapper">
            <iconify-icon icon="solar:wallet-bold-duotone" width="40"></iconify-icon>
          </div>
          <div class="option-content">
            <div class="option-title">Show Wallet</div>
            <div class="option-description">Display the wallet address as a QR code for the customer to send crypto
              directly.</div>
          </div>
        </div>

        <!-- Option 3: Pay with Crypto Card -->
        <div class="payment-option-item" onclick="openModal('modal-crypto-card')">
          <div class="option-icon-wrapper">
            <iconify-icon icon="solar:card-bold-duotone" width="40"></iconify-icon>
          </div>
          <div class="option-content">
            <div class="option-title">Pay with Crypto Card</div>
            <div class="option-description">Accept payment using customer's crypto card for instant transactions.</div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Modal: Enter Amount -->
  <div id="modal-enter-amount" class="modal-overlay">
    <div class="modal-content">
      <div class="modal-header">
        <span class="modal-title">Pay with Crypto</span>
        <div class="close-btn" onclick="closeModal('modal-enter-amount')">
          <iconify-icon icon="eva:close-fill" width="20"></iconify-icon>
        </div>
      </div>
      <div class="modal-body" id="form-enter-amount">
        <div class="form-group">
          <label class="form-label">Enter Amount</label>
          <div class="input-with-prefix">
            <span class="input-prefix">$</span>
            <input type="number" class="minimal-input" placeholder="100" id="input-amount">
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">Asset</label>
          <select class="minimal-select">
            <option>Bitcoin (BTC)</option>
            <option>Ethereum (ETH)</option>
            <option>Tether (USDT)</option>
            <option>Vlinkpay (VRC)</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">Network</label>
          <select class="minimal-select">
            <option>Vlinkpay (VRC20)</option>
            <option>Ethereum (ERC20)</option>
            <option>Bitcoin Network</option>
          </select>
        </div>
        <button class="btn-submit" onclick="showResult('form-enter-amount', 'result-enter-amount')">Generate QR
          Code</button>
      </div>

      <!-- Result View -->
      <div class="modal-body" id="result-enter-amount" style="display: none;">
        <div class="result-container">
          <div class="qr-box">
            <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=TDWZWCMIMWNcXgzMuj64RskQZjbvmvD1CQ"
              alt="QR Code">
          </div>
          <div class="amount-display">
            <span class="amount-usd" id="display-usd-amount">$100.00</span>
            <span class="amount-crypto">0.000896 BTC</span>
            <div style="font-size: 10px; color: var(--grey-500); margin-top: 4px;">1 BTC = $111,623.90</div>
          </div>
          <div class="address-wrapper">
            <span class="address-text">TDWZWCMIMWNcXgzMuj64RskQZjbvmvD1CQ</span>
            <div class="copy-btn">
              <iconify-icon icon="solar:copy-bold-duotone" width="18"></iconify-icon>
            </div>
          </div>
          <div class="timer-text">
            Code auto-refresh in <span>1:29s</span> <a class="refresh-link" onclick="location.reload()">Refresh</a>
          </div>
          <div class="status-waiting">
            <iconify-icon icon="solar:refresh-circle-bold-duotone" width="24" class="rotating"
              style="color: var(--primary-main);"></iconify-icon>
            Waiting for payment...
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal: Show Wallet -->
  <div id="modal-show-wallet" class="modal-overlay">
    <div class="modal-content">
      <div class="modal-header">
        <span class="modal-title">Pay with Crypto</span>
        <div class="close-btn" onclick="closeModal('modal-show-wallet')">
          <iconify-icon icon="eva:close-fill" width="20"></iconify-icon>
        </div>
      </div>
      <div class="modal-body" id="form-show-wallet">
        <div class="form-group">
          <label class="form-label">Assets</label>
          <select class="minimal-select">
            <option>Bitcoin (BTC)</option>
            <option>Ethereum (ETH)</option>
            <option>Tether (USDT)</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">Network</label>
          <select class="minimal-select">
            <option>Vlinkpay (VRC20)</option>
            <option>Ethereum (ERC20)</option>
          </select>
        </div>

        <div class="result-container"
          style="background: transparent; border: 1px solid var(--grey-200); padding: 16px;">
          <div style="display: flex; gap: 12px; align-items: flex-start;">
            <div class="qr-box" style="width: 100px; height: 100px; margin: 0; padding: 8px;">
              <img src="https://api.qrserver.com/v1/create-qr-code/?size=84x84&data=TDWZWCMIMWNcXgzMuj64RskQZjbvmvD1CQ"
                alt="QR">
            </div>
            <div style="flex: 1; text-align: left;">
              <div style="font-size: 13px; font-weight: 700; color: var(--grey-900); margin-bottom: 4px;">Address</div>
              <div class="address-wrapper" style="padding: 8px; margin-bottom: 0;">
                <span class="address-text" style="font-size: 11px;">TDWZWCMIMWNcXgzMuj64RskQZjbvmvD1CQ</span>
                <div class="copy-btn">
                  <iconify-icon icon="solar:copy-bold-duotone" width="16"></iconify-icon>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="note-box" style="margin-top: 16px;">
          <b>Note:</b><br>
          BTC Minimum Top-up: 0.0000001 BTC. Top-up below this amount will not be processed or recovered.<br>
          Important: Transfer only the correct cryptocurrency to the specified address. Incorrect transfers are
          irreversible.
        </div>
      </div>
    </div>
  </div>

  <!-- Modal: Enter Card Details -->
  <div id="modal-crypto-card" class="modal-overlay">
    <div class="modal-content">
      <div class="modal-header">
        <span class="modal-title">Pay with Crypto Card</span>
        <div class="close-btn" onclick="closeModal('modal-crypto-card')">
          <iconify-icon icon="eva:close-fill" width="20"></iconify-icon>
        </div>
      </div>
      <div class="modal-body">
        <!-- Initial: Card Number Only -->
        <div id="card-number-section">
          <div class="form-group">
            <label class="form-label">Card Number</label>
            <div class="input-wrapper">
              <iconify-icon icon="solar:card-bold-duotone" class="input-icon"></iconify-icon>
              <input type="text" class="minimal-input" placeholder="Enter card number or scan..." id="card-number-input"
                onkeypress="handleCardNumberEnter(event)">
              <div class="input-suffix" onclick="openModal('modal-scan-qr')">
                <iconify-icon icon="solar:qr-code-bold-duotone" width="24"></iconify-icon>
              </div>
            </div>
          </div>
          <button class="btn-submit" onclick="validateCard()">Confirm Payment</button>
        </div>

        <!-- After Card Validation: Payment Details -->
        <div id="payment-details-section" style="display: none;">
          <div class="form-group">
            <label class="form-label">Card Number</label>
            <div class="input-wrapper">
              <iconify-icon icon="solar:card-bold-duotone" class="input-icon"></iconify-icon>
              <input type="text" class="minimal-input" id="card-number-display" readonly>
              <div class="input-suffix" onclick="editCardNumber()">
                <iconify-icon icon="solar:pen-bold-duotone" width="20"></iconify-icon>
              </div>
            </div>
          </div>

          <div class="form-group">
            <label class="form-label">Amount</label>
            <div class="input-wrapper">
              <span class="modal-input-icon">$</span>
              <input type="number" class="minimal-input" placeholder="0.00" id="payment-amount-input">
            </div>
          </div>

          <!-- Card Preview -->
          <div class="card-preview">
            <img src="https://i.ibb.co/tMr10Cyz/download-7.png" alt="Crypto Card Preview"
              style="width: 200px; height: 125px; border-radius: 16px; object-fit: cover; flex-shrink: 0;">
            <div class="card-info">
              <div class="info-row">
                <span class="info-label">Current Balance:</span>
                <span class="info-value">$40.00</span>
              </div>
              <div class="info-row">
                <span class="info-label">Times Used:</span>
                <span class="info-value">1</span>
              </div>
              <div class="info-row">
                <span class="info-label">Expiration:</span>
                <span class="info-value">Mar 17, 2026</span>
              </div>
            </div>
          </div>

          <button class="btn-submit" onclick="processCardPayment()">Confirm Payment</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal: Scan QR Code -->
  <div id="modal-scan-qr" class="modal-overlay">
    <div class="modal-content">
      <div class="modal-header">
        <span class="modal-title">Scan QR Code</span>
        <div class="close-btn" onclick="closeModal('modal-scan-qr')">
          <iconify-icon icon="eva:close-fill" width="20"></iconify-icon>
        </div>
      </div>
      <div class="modal-body">
        <div style="text-align: center; padding: 20px;">
          <div
            style="width: 100%; aspect-ratio: 1; background: var(--grey-100); border-radius: 16px; display: flex; align-items: center; justify-content: center; margin-bottom: 16px;">
            <iconify-icon icon="solar:camera-bold-duotone" width="64" style="color: var(--grey-400);"></iconify-icon>
          </div>
          <div style="font-size: 14px; color: var(--grey-600); margin-bottom: 8px;">Position the QR code within the
            frame</div>
          <div style="font-size: 12px; color: var(--grey-500);">The camera will automatically detect the card number
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    function openModal(id) {
      document.getElementById(id).style.display = 'flex';
    }

    function closeModal(id) {
      document.getElementById(id).style.display = 'none';
      if (id === 'modal-enter-amount') {
        document.getElementById('form-enter-amount').style.display = 'block';
        document.getElementById('result-enter-amount').style.display = 'none';
      }
      if (id === 'modal-crypto-card') {
        resetCardForm();
      }
    }

    function showResult(formId, resultId) {
      const amount = document.getElementById('input-amount').value || '100';
      document.getElementById('display-usd-amount').textContent = '$' + parseFloat(amount).toFixed(2);
      document.getElementById(resultId).style.display = 'block';
    }

    function handleCardNumberEnter(event) {
      if (event.key === 'Enter') {
        validateCard();
      }
    }

    function validateCard() {
      const cardNumber = document.getElementById('card-number-input').value;

      if (!cardNumber) {
        alert('Please enter card number');
        return;
      }

      // Simulate card validation
      document.getElementById('card-number-display').value = cardNumber;
      document.getElementById('card-number-section').style.display = 'none';
      document.getElementById('payment-details-section').style.display = 'block';
    }

    function editCardNumber() {
      document.getElementById('card-number-section').style.display = 'block';
      document.getElementById('payment-details-section').style.display = 'none';
      document.getElementById('payment-amount-input').value = '';
    }

    function processCardPayment() {
      const amount = document.getElementById('payment-amount-input').value;

      if (!amount || parseFloat(amount) <= 0) {
        alert('Please enter a valid payment amount');
        return;
      }

      // Simulate payment processing
      alert(`Processing payment of $${parseFloat(amount).toFixed(2)} with crypto card...\nPayment successful!`);
      closeModal('modal-crypto-card');
      resetCardForm();
    }

    function resetCardForm() {
      // Reset all inputs
      document.querySelectorAll('#modal-crypto-card input').forEach(input => {
        if (!input.readOnly) input.value = '';
      });

      // Reset to card number section
      document.getElementById('card-number-section').style.display = 'block';
      document.getElementById('payment-details-section').style.display = 'none';
    }

    // Close on overlay click
    window.onclick = function (event) {
      if (event.target.classList.contains('modal-overlay')) {
        closeModal(event.target.id);
      }
    }
  </script>
</body>

</html>